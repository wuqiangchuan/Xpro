{% extends 'base/base.html' %}

{% block title %} 资产添加  {% endblock %}
{% block js %}
  <!--icheck-->
  <link href="/static/js/iCheck/skins/minimal/minimal.css" rel="stylesheet">
  <link href="/static/js/iCheck/skins/square/square.css" rel="stylesheet">

{% endblock %}

{% block css %} 
  <!--dashboard calendar-->
  <link href="/static/css/clndr.css" rel="stylesheet">

  <!--Morris Chart CSS -->
  <link rel="/static/stylesheet" href="/static/js/morris-chart/morris.css">

  <!--common-->
  <link href="/static/css/style.css" rel="stylesheet">
  <link href="/static/css/style-responsive.css" rel="stylesheet"> 
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="js/html5shiv.js"></script>
  <script src="js/respond.min.js"></script>
  <![endif]-->
{% endblock %}


{% block main_content %}
<div class="col-lg-12">
                    <section class="panel">
                        <header class="panel-heading">
               
          <ul class="breadcrumb">
                <li>
                    <a href="/index">仪表盘</a>
                </li>
                <li>
                	<a href="/asset/">资产信息</a>
                </li>
                <li class="active">添加资产</li>
                			
            </ul>
       		   
            		 <div class="alert alert-success alert-dismissible" role="alert">
									  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
									  <strong>修改资产</strong> 
								</div>
     			   
                        </header>
                        <div class="panel-body">
                        
                            <div class=" form">
                                <form novalidate="novalidate" class="cmxform form-horizontal adminex-form" id="commentForm" method="POST" action="/asset/asset_edit_{{editObj.id}}/">
                                				  	{% csrf_token %} 
                                    <div class="form-group ">
                                        <label for="cname" class="control-label col-lg-2">主机名:</label>
                                        <div class="col-lg-10">
                                            <input class=" form-control" id="hostname" name="hostname" minlength="2" required="" type="text" value={{ editObj.hostname }}>
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="cemail" class="control-label col-lg-2" >公网ip:</label>
                                        <div class="col-lg-10">
                                            <input class="form-control " id="pubip" name="pubip" required="" type="text" value={{ editObj.pubip }}>
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="curl" class="control-label col-lg-2">私网ip:</label>
                                        <div class="col-lg-10">
                                            <input class="form-control " id="priip" name="priip" type="text" value={{ editObj.ip }}>
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="ccomment" class="control-label col-lg-2">备注信息:</label>
                                        <div class="col-lg-10">
                                            <textarea class="form-control " id="comment" name="comment" required="">{{ editObj.comm }}</textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-offset-2 col-lg-10">
                                            <button class="btn btn-primary" type="submit" id="but">Save</button>
                                            <button class="btn btn-default" type="button">Cancel</button>
                                        </div>
                                    </div>
                                </form>
                            </div>

                        </div>
                    </section>
                </div>

{% endblock %}




{% block buttom_js %} 
<!-- Placed js at the end of the document so the pages load faster -->
<script src="/static/js/jquery-1.10.2.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>


<script src="/static/js/modernizr.min.js"></script>
<script src="/static/js/jquery.nicescroll.js"></script>

<!--common scripts for all pages-->
<script src="/static/js/scripts.js"></script>


<script>
/*
$('html').ajaxSend(function(event, xhr, settings) { 
	 function getCookie(name) { 
	  var cookieValue = null; 
	  if (document.cookie && document.cookie != '') { 
	   var cookies = document.cookie.split(';'); 
	   for (var i = 0; i < cookies.length; i++) { 
	    var cookie = jQuery.trim(cookies[i]); 
	    // Does this cookie string begin with the name we want? 
	    if (cookie.substring(0, name.length + 1) == (name + '=')) { 
	     cookieValue = decodeURIComponent(cookie.substring(name.length + 1)); 
	     break; 
	    } 
	   } 
	  } 
	  return cookieValue; 
	 }           */
	 //if (!(/^http:.*/.test(settings.url) || /^https:.*/.test(settings.url))) { 
	  // Only send the token to relative URLs i.e. locally. 
	  /* xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken')); 
	 } 
	});


	var butt = document.getElementById('but');
	butt.addEventListener("click",addHostAjax);
	
	function hello(){
		var host = document.getElementById('hostname').value;
	   //var host = $('#hostname').val();
		 alert(host);
	}
	
  //Ajax 异步请求与应答

  function addHostAjax(){
	  
	  var host = $('#hostname').val();
	  var pubip = $('#pubip').val();
	  var priip = $('#priip').val();
	  var comment = $('#comment').val();
	  alert(host);
	 
	  $.ajax({
			url: '/asset/asset_add_ajax/',
			data:{host:host,pubip:pubip,priip:priip,comment:comment},
      type:'POST',
      success: function(callback){
    	    console.log(callback);
    	    alert(callback);
    	}
		
	  });

  }

  */
</script>
{% endblock %}



